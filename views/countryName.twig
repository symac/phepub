{% extends "base.twig" %}

{% set titleComplement = " > " ~ country.label ~ " > " ~ name.label %}


{% block css %}
  .flag {
  margin:auto;
  max-height:4em;
  margin:1em;
  float:right;
}

.textIntro {
  margin-left:0.5em;
}

{% endblock %}

{% block body %}
    <div class='pure-g textIntro'>
      <div class='pure-u-3-5'>
        <h2><a href='{{ url('viewCountry', {Q: country.Q}) }} '>{{country.label}}</a> &gt; {{name.label }}{% include "_loader.twig" %}
 </h2>
      </div>
      <div class='pure-u-2-5'>
        <img class='pure-img flag' src='{{ global.request.basepath }}/img/flags/{{country.Q}}.png'/>
        <br style='clear:both'/>
      </div>
    </div>

    <div class="pure-g">
    <div class='pure-u'>
      <h4>{{ 'Most popular "%nameLabel%" in %countryLabel% based on the number of persons having that name who are the subject of a wikipedia article.' | trans({'%countryLabel%': country.label, '%nameLabel%': name.label}) }}</h4>
      {% set pageNumber = global.request.get("pageNumber") %}
      {% if pageNumber == '' %}
        {% set pageNumber = 1 %}
      {% endif %}

      {% if pageNumber != 1 %}
        <a href='{{ url('viewCountryNamePage', {Qcountry: country.Q, Q : name.Q, pageNumber: pageNumber - 1}) }}'>&lt;&lt;</a>
      {% endif %}

      {{ start ~ " - " ~ end }}
      <a href='{{ url('viewCountryNamePage', {Qcountry: country.Q, Q : name.Q, pageNumber: pageNumber + 1}) }}'>&gt;&gt;</a>


      <table class="pure-table">
        <thead>
          <tr>
            <th>{{'Rank' | trans }}</th>
            <th>{{'Name' | trans}}</th>
            <th>{{'Birthdate' | trans}}</th>
            <th>{{'Description' | trans}}</th>
            <th>{{'Number of wikipedia articles' | trans}}</th>
          </tr>
        </thead>
        <tbody>
          {% for person in popularPersons %}
            <tr>
              <td>{{person.rank}}</td>
              <td><a href='http://www.wikidata.org/wiki/{{ person.Q }}'>{{ person.Q | Qlabel }}</a></td>
              <td>{{ person.birthDate }}</td>
              <td>{{ person.Q | Qdescription}}</td>
              <td>{{ person.numberOfArticles }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>


  <div class='pure-g'>
    <div class='pure-u'>
      <h4>{{ 'Random "%nameLabel%" from %countryLabel%' | trans({'%nameLabel%' : name.label, '%countryLabel%': country.label }) }}</h4>
      <table class="pure-table">
        <thead>
          <tr>
            <th>{{'Name' | trans}}</th>
            <th>{{'Birthdate' | trans}}</th>
            <th>{{'Description' | trans}}</th>
            <th>{{'Number of wikipedia articles' | trans}}</th>
          </tr>
        </thead>
        <tbody>
          {% for person in randomPersons %}
            <tr>
              <td><a href='http://www.wikidata.org/wiki/{{ person.Q }}'>{{ person.Q | Qlabel }}</a></td>
              <td>{{ person.birthDate }}</td>
              <td>{{ person.Q | Qdescription}}</td>
              <td>{{ person.numberOfArticles }}</td>

            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
